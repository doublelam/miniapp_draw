!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="build/",n(n.s=6)}({0:function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};t.__esModule=!0;var i=function(){function e(){}return e.cFun=function(e){return new Promise(function(t,n){wx.cloud.callFunction(o({},e,{fail:function(e){n(e)},success:function(e){t(e)}}))})},e.uploadFile=function(e){return new Promise(function(t,n){wx.cloud.uploadFile(o({},e,{fail:function(e){n(e)},success:function(e){t(e)}}))})},e}();t.WxCloud=i},32:function(e,t){},4:function(e,t,n){e.exports=n.p+"pages/components/pictureItem/pictureItem.json"},5:function(e,t,n){e.exports=n.p+"pages/components/pictureItem/pictureItem.wxml"},6:function(e,t,n){"use strict";t.__esModule=!0;var o=n(0);n(5),n(32),n(4);var i=function(){function e(){var e=this;this.data={liked:!1,selfLike:{}},this.methods={jumpToDetail:function(e){var t=e.currentTarget.dataset.picId;wx.navigateTo({url:"/pages/pictureDetail/pictureDetail?picId="+t})},onLike:function(t){e.onLike.call(this,t)}},this.options={addGlobalClass:!0},this.properties={picItem:{type:Object,value:{}}}}return e.prototype.onLike=function(e){var t=this;if(console.log("__this",this),e.detail&&e.detail.userInfo){var n=e.detail.userInfo,i=e.target.dataset.picId;o.WxCloud.cFun({data:{picId:i,type:"add",user:n},name:"likePic"}).then(function(e){e.result&&e.result.success&&(console.log("this__",t),t.setData({liked:!0,selfLike:n}))})}else wx.showModal({confirmText:"知道了",content:"小程序需要使用您的昵称及头像用于展示点赞数量",showCancel:!1,title:"提示"})},e}();Component(new i)}});